{"ast":null,"code":"var getCoord = require('turf-invariant').getCoord;\n\nvar radiansToDistance = require('turf-helpers').radiansToDistance; //http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n\n/**\n * Calculates the distance between two {@link Point|points} in degrees, radians,\n * miles, or kilometers. This uses the\n * [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula)\n * to account for global curvature.\n *\n * @name distance\n * @param {Feature<Point>} from origin point\n * @param {Feature<Point>} to destination point\n * @param {String} [units=kilometers] can be degrees, radians, miles, or kilometers\n * @return {Number} distance between the two points\n * @example\n * var from = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [-75.343, 39.984]\n *   }\n * };\n * var to = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [-75.534, 39.123]\n *   }\n * };\n * var units = \"miles\";\n *\n * var points = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [from, to]\n * };\n *\n * //=points\n *\n * var distance = turf.distance(from, to, units);\n *\n * //=distance\n */\n\n\nmodule.exports = function (from, to, units) {\n  var degrees2radians = Math.PI / 180;\n  var coordinates1 = getCoord(from);\n  var coordinates2 = getCoord(to);\n  var dLat = degrees2radians * (coordinates2[1] - coordinates1[1]);\n  var dLon = degrees2radians * (coordinates2[0] - coordinates1[0]);\n  var lat1 = degrees2radians * coordinates1[1];\n  var lat2 = degrees2radians * coordinates2[1];\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToDistance(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)), units);\n};","map":{"version":3,"sources":["/Users/yiqianyao/workspace/something/floorcanvas/node_modules/turf-distance/index.js"],"names":["getCoord","require","radiansToDistance","module","exports","from","to","units","degrees2radians","Math","PI","coordinates1","coordinates2","dLat","dLon","lat1","lat2","a","pow","sin","cos","atan2","sqrt"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,gBAAD,CAAP,CAA0BD,QAAzC;;AACA,IAAIE,iBAAiB,GAAGD,OAAO,CAAC,cAAD,CAAP,CAAwBC,iBAAhD,C,CACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgBC,EAAhB,EAAoBC,KAApB,EAA2B;AACxC,MAAIC,eAAe,GAAGC,IAAI,CAACC,EAAL,GAAU,GAAhC;AACA,MAAIC,YAAY,GAAGX,QAAQ,CAACK,IAAD,CAA3B;AACA,MAAIO,YAAY,GAAGZ,QAAQ,CAACM,EAAD,CAA3B;AACA,MAAIO,IAAI,GAAGL,eAAe,IAAII,YAAY,CAAC,CAAD,CAAZ,GAAkBD,YAAY,CAAC,CAAD,CAAlC,CAA1B;AACA,MAAIG,IAAI,GAAGN,eAAe,IAAII,YAAY,CAAC,CAAD,CAAZ,GAAkBD,YAAY,CAAC,CAAD,CAAlC,CAA1B;AACA,MAAII,IAAI,GAAGP,eAAe,GAAGG,YAAY,CAAC,CAAD,CAAzC;AACA,MAAIK,IAAI,GAAGR,eAAe,GAAGI,YAAY,CAAC,CAAD,CAAzC;AAEA,MAAIK,CAAC,GAAGR,IAAI,CAACS,GAAL,CAAST,IAAI,CAACU,GAAL,CAASN,IAAI,GAAG,CAAhB,CAAT,EAA6B,CAA7B,IACFJ,IAAI,CAACS,GAAL,CAAST,IAAI,CAACU,GAAL,CAASL,IAAI,GAAG,CAAhB,CAAT,EAA6B,CAA7B,IAAkCL,IAAI,CAACW,GAAL,CAASL,IAAT,CAAlC,GAAmDN,IAAI,CAACW,GAAL,CAASJ,IAAT,CADzD;AAGA,SAAOd,iBAAiB,CAAC,IAAIO,IAAI,CAACY,KAAL,CAAWZ,IAAI,CAACa,IAAL,CAAUL,CAAV,CAAX,EAAyBR,IAAI,CAACa,IAAL,CAAU,IAAIL,CAAd,CAAzB,CAAL,EAAiDV,KAAjD,CAAxB;AACH,CAbD","sourcesContent":["var getCoord = require('turf-invariant').getCoord;\nvar radiansToDistance = require('turf-helpers').radiansToDistance;\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n\n/**\n * Calculates the distance between two {@link Point|points} in degrees, radians,\n * miles, or kilometers. This uses the\n * [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula)\n * to account for global curvature.\n *\n * @name distance\n * @param {Feature<Point>} from origin point\n * @param {Feature<Point>} to destination point\n * @param {String} [units=kilometers] can be degrees, radians, miles, or kilometers\n * @return {Number} distance between the two points\n * @example\n * var from = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [-75.343, 39.984]\n *   }\n * };\n * var to = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [-75.534, 39.123]\n *   }\n * };\n * var units = \"miles\";\n *\n * var points = {\n *   \"type\": \"FeatureCollection\",\n *   \"features\": [from, to]\n * };\n *\n * //=points\n *\n * var distance = turf.distance(from, to, units);\n *\n * //=distance\n */\nmodule.exports = function (from, to, units) {\n    var degrees2radians = Math.PI / 180;\n    var coordinates1 = getCoord(from);\n    var coordinates2 = getCoord(to);\n    var dLat = degrees2radians * (coordinates2[1] - coordinates1[1]);\n    var dLon = degrees2radians * (coordinates2[0] - coordinates1[0]);\n    var lat1 = degrees2radians * coordinates1[1];\n    var lat2 = degrees2radians * coordinates2[1];\n\n    var a = Math.pow(Math.sin(dLat / 2), 2) +\n          Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n\n    return radiansToDistance(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)), units);\n};\n"]},"metadata":{},"sourceType":"script"}